# ‚úÖ –ë—ã—Å—Ç—Ä—ã–π —á–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ:
- [x] Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [x] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] WebApp –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ HTTP: http://freight-hub.ru/tgbotfiles/freighthub/
- [x] –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º URL
- [x] –ü–æ—Ä—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (webapp: 5000, bot: 8080)

### ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å:

## –®–∞–≥ 1: –í–∫–ª—é—á–∏—Ç–µ SSL –≤ Cloudflare (2 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://dash.cloudflare.com
2. –í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω `freight-hub.ru`
3. **SSL/TLS** ‚Üí **Overview** ‚Üí –í—ã–±–µ—Ä–∏—Ç–µ **Flexible**
4. **SSL/TLS** ‚Üí **Edge Certificates**:
   - ‚úÖ Always Use HTTPS: **On**
   - ‚úÖ Automatic HTTPS Rewrites: **On**
5. **DNS** ‚Üí **Records** ‚Üí –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –∑–∞–ø–∏—Å–∏ `@` –æ—Ä–∞–Ω–∂–µ–≤–æ–µ –æ–±–ª–∞–∫–æ üü† (Proxied)

## –®–∞–≥ 2: –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã

SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- ‚úÖ https://freight-hub.ru/tgbotfiles/freighthub/ (–¥–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è WebApp)
- ‚úÖ https://t.me/freighthub_bot (–æ—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ")

## –ì–æ—Ç–æ–≤–æ! üéâ

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ WebApp –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ HTTPS
- ‚úÖ –í Telegram –∫–Ω–æ–ø–∫–∞ "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ù–µ—Ç –æ—à–∏–±–∫–∏ "Only HTTPS links are allowed"

---

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–±–ª–µ–º–∞: SSL –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª—Å—è
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â—ë 5 –º–∏–Ω—É—Ç, –æ—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞ (Cmd+Shift+R)

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–†–µ—à–µ–Ω–∏–µ:** 
```bash
ssh -i ~/.ssh/freighthub_deploy root@81.200.147.68 'cd /opt/freighthub && docker-compose restart telegram-bot'
```

### –ü—Ä–æ–±–ª–µ–º–∞: WebApp –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:
```bash
ssh -i ~/.ssh/freighthub_deploy root@81.200.147.68 'cd /opt/freighthub && docker-compose logs webapp --tail=50'
```

---

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
ssh -i ~/.ssh/freighthub_deploy root@81.200.147.68 'docker ps'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS
curl -I https://freight-hub.ru/tgbotfiles/freighthub/

# –õ–æ–≥–∏ –±–æ—Ç–∞
ssh -i ~/.ssh/freighthub_deploy root@81.200.147.68 'cd /opt/freighthub && docker-compose logs telegram-bot --tail=20'

# –õ–æ–≥–∏ webapp
ssh -i ~/.ssh/freighthub_deploy root@81.200.147.68 'cd /opt/freighthub && docker-compose logs webapp --tail=20'
```
